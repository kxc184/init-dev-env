"use strict";(self.webpackChunkworkbench=self.webpackChunkworkbench||[]).push([[5099],{4814:(e,r,o)=>{o.r(r);var t=o(540),n=o(1730),c=o(607),a=o(4485),l=o(5892),s=o.n(l),u=o(8560),i=o(814),p=o(3301);const d=new class{constructor(){var e=this;this.observer=null,this.workspaceId="",this.abortController=null,this.asyncObserver=null,this.changeWorkspace=e=>{this.workspaceId&&this.unsubscribe(),this.workspaceId=e},this.subscribe=async function({workspaceId:r=e.workspaceId,subscriptionHandler:o}){if(""===r)return;if(e.workspaceId!==r&&e.changeWorkspace(r),e.observer||e.asyncObserver)return;const{asyncObserver:t,abortController:n}=(0,p.subscribeToWorkspaceEvents)(r);e.abortController=n,e.asyncObserver=t,e.observer=await t,e.abortController=null,e.observer.subscribe({next:e=>{o(e,{workspaceId:r})},complete:()=>{e.unsubscribe()},error:async function(t){e.cleanup(),await e.subscribe({subscriptionHandler:o,workspaceId:r})}})},this.unsubscribe=()=>{var e,r;null==(e=this.abortController)||e.abort(),null==(r=this.observer)||r.unsubscribe(),this.cleanup()},this.cleanup=()=>{this.asyncObserver=null,this.observer=null,this.abortController=null}}};var h=o(7380),w=o(9461),k=function(e){return e.GLOBALS="globals",e.WORKSPACE="workspace",e.COLLECTION_RUN="collectionrun",e}(k||{});const b=(e,{workspaceId:r})=>{var o,t;const n=null==e||null==(o=e.meta)?void 0:o.model,c=e.data,a=null==(t=e.meta)?void 0:t.action;if(n!==k.GLOBALS&&n!==k.WORKSPACE||(0,h.environmentsSubscriptionHandler)(e,{workspaceId:r}),n===k.COLLECTION_RUN)switch(e.meta.action){case"create":case"destroy":(0,w.invalidateCache)(["collection-runs-list",r,e.data.collection])}"update_elements"===a&&function(e,r){const o=(0,i.getTabManager)();for(const t of e){const e=t.op,n=t.value,c=t.path;"remove"===e&&(c.includes("/elements/collections")?o.closeTabByRoute(`/workspace/${r}/collection/${n}`):c.includes("/elements/environments")&&o.closeTabByRoute(`/workspace/${r}/environment/${n}`))}}(c,r)};var m=o(2322);let I;const y=s()(u.Z)(I||(I=(e=>e)`
  height: 100vh;
  width: 100vw;
  min-width: 600px;
  max-width: 100%;
  background-color: var(--background-color-primary);
  color: var(--content-color-primary);
`)),E=()=>{const e=(0,t.useRef)(null);return(()=>{const e=(0,p.useActiveWorkspaceId)();(0,t.useEffect)((()=>{if(e)return d.subscribe({workspaceId:e,subscriptionHandler:b}),()=>{d.unsubscribe()}}),[e])})(),(0,i.usePreventContextMenu)({element:e.current}),(0,m.jsx)(y,{ref:e,direction:"column",children:(0,m.jsx)(c.Outlet,{})})};var f=o(5736);let v;const R=s().div(v||(v=(e=>e)`
  position: absolute;
  top: 50%;
  left: 50%;
`)),C=()=>(0,m.jsx)(R,{children:(0,m.jsx)(f.Z,{})});var x=o(7376),j=o(949);const g=e=>{const[r,...o]=e.split("/"),t=`./${o.join("/")}`,n=r.replaceAll("-","_"),c=`${window.BASE_URL_PREFIX}/${r}/remoteEntry.js`,a=c.split("/").slice(0,-1).join("/");return async()=>await(0,j.importRemote)({url:a,scope:n,module:t,remoteEntryFileName:c.split("/").pop()})},B=({currentUrl:e,nextUrl:r})=>e.pathname!==r.pathname;function q(){return Promise.all([g("ws-workbench/WsWorkbench")(),g("ws-workbench/WsNewRequestLoader")()]).then((([e,r])=>({Component:e.default,loader:r.loader})))}const W=[{path:"/workspace/:workspaceId/request/:requestId",lazy:function(){return g("http-workbench/HttpWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"http-workbench",errorElementId:"saved-request-route"}),shouldRevalidate:B},{path:"/workspace/:workspaceId/request/create",lazy:function(){return Promise.all([g("http-workbench/HttpWorkbench")(),g("http-workbench/NewRequestLoader")()]).then((([e,r])=>({Component:e.default,loader:r.loader})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"http-workbench",errorElementId:"create-request-route"}),shouldRevalidate:B},{path:"/workspace/:workspaceId/history/:historyId",lazy:function(){return Promise.all([g("http-workbench/HttpWorkbench")(),g("http-workbench/HistoryRequestLoader")()]).then((([e,r])=>({Component:e.default,loader:r.loader})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"http-workbench",errorElementId:"history-request"}),shouldRevalidate:B},{path:"/workspace/:workspaceId/grpc-request/create",lazy:function(){return g("grpc-workbench/GrpcWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"grpc-workbench",errorElementId:"create-request-route"})},{path:"/workspace/:workspaceId/grpc-request/history/:historyId",lazy:function(){return Promise.all([g("grpc-workbench/GrpcWorkbench")(),g("grpc-workbench/GrpcHistoryRequestLoader")()]).then((([e,r])=>({Component:e.default,loader:r.grpcHistoryRequestLoader})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"grpc-workbench",errorElementId:"history-request"})},{path:"/workspace/:workspaceId/ws-raw-request/create",lazy:q,errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"ws-workbench",errorElementId:"create-ws-raw-request-route"})},{path:"/workspace/:workspaceId/ws-raw-request/history/:historyId",lazy:function(){return Promise.all([g("ws-workbench/WsWorkbench")(),g("ws-workbench/WsHistoryRequestLoader")()]).then((([e,r])=>({Component:e.default,loader:r.loader})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"ws-workbench",errorElementId:"ws-raw-history-request"})},{path:"/workspace/:workspaceId/ws-socketio-request/create",lazy:q,errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"ws-workbench",errorElementId:"create-ws-socketio-request-route"})},{path:"/workspace/:workspaceId/environment/:environmentId",lazy:function(){return g("environment-workbench/EnvironmentWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"environment-workbench-route",errorElementId:"environment-workbench"})},{path:"/workspace/:workspaceId/globals",lazy:function(){return g("environment-workbench/GlobalsWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"globals-workbench",errorElementId:"globals-workbench-route"})},{path:"/workspace/:workspaceId/example/:exampleId",lazy:function(){return g("http-response-workbench/HttpResponseWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"http-response-workbench",errorElementId:"http-response-workbench-route"}),shouldRevalidate:({currentUrl:e,nextUrl:r})=>e.pathname!==r.pathname},{path:"/workspace/:workspaceId/folder/:folderId",lazy:function(){return g("folder-workbench/FolderWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"folder-workbench-route",errorElementId:"folder-workbench"})},{path:"/workspace/:workspaceId/collection/:collectionId",lazy:function(){return g("collection-workbench/CollectionWorkbench")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"collection-workbench-route",errorElementId:"collection-workbench",title:"Unable to fetch collection",description:"An error occurred while fetching the collection."})},{path:"/workspace/:workspaceId/openManageTokensTab",lazy:function(){return g("oauth2-manage-tokens/Oauth2ManageTokens")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"oauth2-manage-tokens-workbench-route",errorElementId:"oauth2-manage-tokens-workbench"})},{path:"/workspace/:workspaceId/run/create",lazy:function(){return g("collection-runner/CollectionRunCreate")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"collection-runner-route",errorElementId:"collection-runner",title:"Unable to fetch collection",description:"An error occurred while fetching the collection."})},{path:"/workspace/:workspaceId/run/:runId",lazy:function(){return g("collection-runner/CollectionRunOpen")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"collection-runner-route",errorElementId:"collection-runner",title:"Unable to fetch collection",description:"An error occurred while fetching the collection."})},{path:"/workspace/:workspaceId/documentation/:collectionId",lazy:function(){return g("full-documentation-view/FullDocumentationView")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"full-documentation-view-route",errorElementId:"full-documentation-view"})},{path:"/workspace/:workspaceId/import/:importId",lazy:function(){return g("workbench-import-entity/MultiFileImport")().then((e=>({Component:e.default})))},errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"workbench-import-entity",errorElementId:"workbench-import-entity-route",title:"Unable to import",description:"An error occurred while importing the files."})}];(0,a.initSentry)();let z="/";try{var O;z=JSON.parse(null==(O=window)?void 0:O.NAVIGATION_CONTEXT).to}catch(e){}const L=[{path:"/",element:(0,m.jsx)(E,{}),errorElement:(0,m.jsx)(x.RouteErrorBoundary,{appId:"workbench",errorElementId:"workbench-route"}),children:W}],A=(0,a.sentryRouter)(c.createMemoryRouter)(L,{initialEntries:[z],initialIndex:0});function T(){return(0,m.jsx)(c.RouterProvider,{router:A,fallbackElement:(0,m.jsx)(C,{})})}var H=o(2465);(0,w.setupCacheBroadcasts)({appId:"workbench"}),(0,H.initializeAnalytics)(),o(7086);const P=document.querySelector("#workbench_root");n.render((0,m.jsx)(t.StrictMode,{children:(0,m.jsx)(x.CustomErrorBoundary,{appId:"workbench",errorElementId:"global-error-boundary",children:(0,m.jsx)(w.DataFetchCacheProvider,{children:(0,m.jsx)(i.ThemeContextProvider,{children:(0,m.jsx)(T,{})})})})}),P)}}]);
//# sourceMappingURL=5099.6870ecb0d25b99b5.js.map